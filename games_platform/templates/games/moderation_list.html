{% extends 'base.html' %}

{% block title %}–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∏–≥—Ä{% endblock %}

{% block content %}
<div class="moderation-container">
    <h1>–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∏–≥—Ä</h1>
    <p class="moderation-description">
        –ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–≥—Ä—ã, –æ–∂–∏–¥–∞—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏. 
        –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–≥—Ä—ã —Å—Ç–∞–Ω—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
    </p>
    
    {% if pending_games %}
    <div class="pending-games">
        {% for game in pending_games %}
        <div class="moderation-game-card">
            <div class="game-preview">
                {% if game.thumbnail %}
                <img src="{{ game.thumbnail.url }}" alt="{{ game.title }}" class="moderation-thumbnail">
                {% else %}
                <div class="no-thumbnail">–ù–µ—Ç –ø—Ä–µ–≤—å—é</div>
                {% endif %}
            </div>
            
            <div class="game-details">
                <h3>{{ game.title }}</h3>
                <p><strong>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</strong> {{ game.developer.username }}</p>
                <p><strong>–î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏:</strong> {{ game.created_at|date:"d.m.Y H:i" }}</p>
                
                <div class="game-description">
                    {{ game.description|truncatechars:200 }}
                </div>
                
                <div class="moderation-actions">
                    <a href="{% url 'game_detail' game.pk %}" class="btn btn-primary">
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </a>
                    
                    <a href="{{ game.html_file.url }}" class="btn btn-secondary" target="_blank">
                        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å HTML
                    </a>
                    
                    <a href="{% url 'moderate_game' game.pk 'approve' %}" class="btn btn-success">
                        ‚úÖ –û–¥–æ–±—Ä–∏—Ç—å
                    </a>
                    
                    <a href="{% url 'moderate_game' game.pk 'reject' %}" class="btn btn-danger">
                        ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-pending-games">
        <div class="alert alert-success">
            <h3>üéâ –í—Å–µ –∏–≥—Ä—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã!</h3>
            <p>–ù–µ—Ç –∏–≥—Ä, –æ–∂–∏–¥–∞—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏. –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!</p>
        </div>
        <a href="{% url 'game_list' %}" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
    </div>
    {% endif %}
</div>
{% endblock %}